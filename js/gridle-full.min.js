window.matchMedia||(window.matchMedia=function(){"use strict";var a=window.styleMedia||window.media;if(!a){var b=document.createElement("style"),c=document.getElementsByTagName("script")[0],d=null;b.type="text/css",b.id="matchmediajs-test",c.parentNode.insertBefore(b,c),d="getComputedStyle"in window&&window.getComputedStyle(b,null)||b.currentStyle,a={matchMedium:function(a){var c="@media "+a+"{ #matchmediajs-test { width: 1px; } }";return b.styleSheet?b.styleSheet.cssText=c:b.textContent=c,"1px"===d.width}}}return function(b){return{matches:a.matchMedium(b||"all"),media:b||"all"}}}()),function(a){"function"==typeof define&&define.amd?define([],a):("object"==typeof exports,a())}(function(){var a,b,c;return c={convert:function(a,b){return b={},a.on=function(c,d){return(b[c]=b[c]||[]).push(d),a},a.emit=function(c){var d,e,f,g;if(b[c]){for(g=b[c],e=0,f=g.length;e<f;e++)d=g[e],d.apply(a,Array.prototype.slice.call(arguments,1));return a}},a}},window.Gridle={_inited:!1,_isReady:!1,_statesInCss:null,_statesFindedInCss:!1,_cssSettings:[],_states:[],_activeStates:[],_activeStatesNames:[],_inactiveStates:[],_inactiveStatesNames:[],_updatedStates:[],_updatedStatesNames:[],resizeTimeout:null,_settings:{onUpdate:null,debug:null,ignoredStates:[]},init:function(a){var c;return this._inited=!0,null!=(null!=a?a.ignoredStates:void 0)&&(c=a.ignoredStates.indexOf("default"))>-1&&a.ignoredStates.splice(c,1),a&&(this._settings=this._extend(this._settings,a)),this._debug("waiting for content to be fully loaded"),b(function(a){return function(){return a._parseCss()}}(this))},_extend:function(a,b){var c,d;for(c in b)d=b[c],a[c]=d;return a},_parseCss:function(){var a,b,c,d,e,f,g,h,i;for(c=0,e=document.styleSheets.length,i=!1;c<e;){try{if(g=document.styleSheets[c].cssText||document.styleSheets[c].cssRules||document.styleSheets[c].rules,"string"==typeof g)h=g.match(/#gridle-settings(?:\s*)\{(?:\s*)content(?:\s*):(?:\s*)\"(.+)\"(;\s*|\s*)\}/)&&RegExp.$1,h&&(h=h.toString().replace(/\\/g,""),h=JSON.parse(h),this._cssSettings=h,i=!0,this._cssSettings=h,this._statesInCss=h.states);else for(d in g)f=g[d],/#gridle-settings/.test(f.cssText)&&(h=f.cssText.toString().match(/:(.*);/)&&RegExp.$1,h=h.toString().replace(/\\/g,""),h=h.trim(),h=h.substr(1),h=h.substr(0,h.length-1),h=JSON.parse(h),null!=(null!=h?h.states:void 0))&&(this._cssSettings=h,this._statesInCss=h.states,i=!0)}catch(b){if(a=b,"SecurityError"!==a.name)throw a}c++}return this._statesInCss?this._processFindedStates():this._debug("no states found...")},_processFindedStates:function(){var a,b,c;this._debug("begin process finded states in css"),c=this._statesInCss;for(a in c)b=c[a],this._settings.ignoredStates.indexOf(a)===-1&&this._registerState(a,b);return this._launch()},_launch:function(){return this._debug("launch"),this._isReady=!0,this._crossEmit("ready"),this._addEvent(window,"resize",function(a){return function(b){return clearTimeout(a.resizeTimeout),a.resizeTimeout=setTimeout(function(){return a._onResize()},100)}}(this)),this._onResize()},_onResize:function(){var a;if(a=[],this._updateStatesStatus(),this.getActiveStatesNames().length&&this._debug("active states",this.getActiveStatesNames().join(",")),this.getInactiveStatesNames().length&&this._debug("inactive states",this.getInactiveStatesNames().join(",")),this.getUpdatedStatesNames().length)return this._debug("updated states",this.getUpdatedStatesNames().join(","))},_registerState:function(a,b,c){var d;return d={name:a,query:b.query,settings:b,status:null,previous_status:null,updateOnResize:null==c||c},this._states.push(d),this._debug("|--- register state",a,d)},_updateStatesStatus:function(){var a,b,c,d,e,f;a=this.getDefaultState(),b=this._states.indexOf(a),f=a.status,this._activeStates=[],this._activeStatesNames=[],this._inactiveStates=[],this._inactiveStatesNames=[],this._updatedStates=[],this._updatedStatesNames=[],d=this._states;for(c in d)e=d[c],e.updateOnResize&&(this._states[c].previous_status=e.status,this._validateState(e)?(this._states[c].status||(this._updatedStates.push(e),this._updatedStatesNames.push(e.name)),this._states[c].status=!0,this._activeStates.push(e),this._activeStatesNames.push(e.name)):"default"!==e.name&&(this._states[c].status&&(this._updatedStates.push(e),this._updatedStatesNames.push(e.name)),this._states[c].status=!1,this._inactiveStates.push(e),this._inactiveStatesNames.push(e.name)));if(this._activeStates.length?(this._states[b].status=!1,this._inactiveStates.push(a),this._inactiveStatesNames.push("default"),f&&(this._updatedStates.push(a),this._updatedStatesNames.push("default"))):(this._states[b].status=!0,this._activeStates.push(a),this._activeStatesNames.push("default"),f||(this._updatedStates.push(a),this._updatedStatesNames.push("default"))),this._updatedStates.length&&this._crossEmit("update",this._updatedStates,this._activeStates,this._inactiveStates),this._updatedStates.length&&this._settings.onUpdate)return this._settings.onUpdate(this._updatedStates,this._activeStates,this._inactiveStates)},_validateState:function(a){return function(a){return matchMedia(a.query).matches}}(this),_addEvent:function(a,b,c){return!!a&&(a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent?a.attachEvent("on"+b,c):a["on"+b]=c)},_crossEmit:function(a){return"undefined"!=typeof jQuery&&null!==jQuery&&(jQuery(this).trigger(a,Array.prototype.slice.call(arguments,1)),jQuery("body").trigger("gridle."+a,Array.prototype.slice.call(arguments,1))),this.emit.apply(this,arguments)},_ajax:function(a){var b,c;return b={type:a.type||"GET",url:a.url,success:a.success,error:a.error,dataType:a.dataType||"text",context:a.context},c=new XMLHttpRequest,b.context&&(c.context=b.context),c.open(b.type,b.url,!0),c.onreadystatechange=function(){var a;if(4!==c.readyState)return!1;switch(c.status){case 200:switch(b.dataType){case"json":a=JSON.parse(c.responseText);break;default:a=c.responseText}if(b.success)return b.success(a,c.status,c)}},c.send()},getDefaultState:function(){var a,b,c,d;for(c=this.getRegisteredStates(),a=0,b=c.length;a<b;a++)if(d=c[a],"default"===d.name)return d},getRegisteredStates:function(){return this._states},getUpdatedStates:function(){return this._updatedStates},getUpdatedStatesNames:function(){return this._updatedStatesNames},getActiveStates:function(){return this._activeStates},getActiveStatesNames:function(){return this._activeStatesNames},getInactiveStates:function(){return this._inactiveStates},getInactiveStatesNames:function(){return this._inactiveStatesNames},isActive:function(a){var b,c,d,e;c=!1,e=this._activeStatesNames;for(b in e)d=e[b],a===d&&(c=!0);return c},isReady:function(){return this._isReady},_debug:function(){if(this._settings.debug)return console.log("GRIDLE",arguments)}},a=!1,b=function(b){var c;return c=function(b){return a?void b():"complete"===document.readyState?(a=!0,void b()):void 0},window.addEventListener?window.addEventListener("load",function(c){return function(){return a=!0,b()}}(this),!1):window.attachEvent("onload",function(c){return function(){return a=!0,b()}}(this)),c(function(a){return function(){return b()}}(this))},c.convert(window.Gridle),b(function(){return setTimeout(function(){if(!Gridle._inited)return Gridle.init()},500)}),Gridle}),function(){this.ResizeSensor=function(a,b){function c(){this.q=[],this.add=function(a){this.q.push(a)};var a,b;this.call=function(){for(a=0,b=this.q.length;a<b;a++)this.q[a].call()}}function d(a,b){return a.currentStyle?a.currentStyle[b]:window.getComputedStyle?window.getComputedStyle(a,null).getPropertyValue(b):a.style[b]}function e(a,b){if(a.resizedAttached){if(a.resizedAttached)return void a.resizedAttached.add(b)}else a.resizedAttached=new c,a.resizedAttached.add(b);a.resizeSensor=document.createElement("div"),a.resizeSensor.className="resize-sensor";var e="position: absolute; left: 0; top: 0; right: 0; bottom: 0; overflow: scroll; z-index: -1; visibility: hidden;",f="position: absolute; left: 0; top: 0;";a.resizeSensor.style.cssText=e,a.resizeSensor.innerHTML='<div class="resize-sensor-expand" style="'+e+'"><div style="'+f+'"></div></div><div class="resize-sensor-shrink" style="'+e+'"><div style="'+f+' width: 200%; height: 200%"></div></div>',a.appendChild(a.resizeSensor),{fixed:1,absolute:1}[d(a,"position")]||(a.style.position="relative");var g,h,i=a.resizeSensor.childNodes[0],j=i.childNodes[0],k=a.resizeSensor.childNodes[1],l=(k.childNodes[0],function(){j.style.width=i.offsetWidth+10+"px",j.style.height=i.offsetHeight+10+"px",i.scrollLeft=i.scrollWidth,i.scrollTop=i.scrollHeight,k.scrollLeft=k.scrollWidth,k.scrollTop=k.scrollHeight,g=a.offsetWidth,h=a.offsetHeight});l();var m=function(){a.resizedAttached&&a.resizedAttached.call()},n=function(a,b,c){a.attachEvent?a.attachEvent("on"+b,c):a.addEventListener(b,c)};n(i,"scroll",function(){(a.offsetWidth>g||a.offsetHeight>h)&&m(),l()}),n(k,"scroll",function(){(a.offsetWidth<g||a.offsetHeight<h)&&m(),l()})}if("[object Array]"===Object.prototype.toString.call(a)||"undefined"!=typeof jQuery&&a instanceof jQuery||"undefined"!=typeof Elements&&a instanceof Elements)for(var f=0,g=a.length;f<g;f++)e(a[f],b);else e(a,b);this.detach=function(){ResizeSensor.detach(a)}},this.ResizeSensor.detach=function(a){a.resizeSensor&&(a.removeChild(a.resizeSensor),delete a.resizeSensor,delete a.resizedAttached)}}(),function(){var a=this.ElementQueries=function(){function b(a){a||(a=document.documentElement);var b=getComputedStyle(a,"fontSize");return parseFloat(b)||16}function c(a,c){var d=c.replace(/[0-9]*/,"");switch(c=parseFloat(c),d){case"px":return c;case"em":return c*b(a);case"rem":return c*b();case"vw":return c*document.documentElement.clientWidth/100;case"vh":return c*document.documentElement.clientHeight/100;case"vmin":case"vmax":var e=document.documentElement.clientWidth/100,f=document.documentElement.clientHeight/100,g=Math["vmin"===d?"min":"max"];return c*g(e,f);default:return c}}function d(a){this.element=a,this.options={};var b,d,e,f,g,h,i,j=0,k=0;this.addOption=function(a){var b=[a.mode,a.property,a.value].join(",");this.options[b]=a};var l=["min-width","min-height","max-width","max-height"];this.call=function(){j=this.element.offsetWidth,k=this.element.offsetHeight,g={};for(b in this.options)this.options.hasOwnProperty(b)&&(d=this.options[b],e=c(this.element,d.value),f="width"==d.property?j:k,i=d.mode+"-"+d.property,h="","min"==d.mode&&f>=e&&(h+=d.value),"max"==d.mode&&f<=e&&(h+=d.value),g[i]||(g[i]=""),h&&-1===(" "+g[i]+" ").indexOf(" "+h+" ")&&(g[i]+=" "+h));for(var a in l)g[l[a]]?this.element.setAttribute(l[a],g[l[a]].substr(1)):this.element.removeAttribute(l[a])}}function e(a,b){a.elementQueriesSetupInformation?a.elementQueriesSetupInformation.addOption(b):(a.elementQueriesSetupInformation=new d(a),a.elementQueriesSetupInformation.addOption(b),a.elementQueriesSensor=new ResizeSensor(a,function(){a.elementQueriesSetupInformation.call()})),a.elementQueriesSetupInformation.call(),this.withTracking&&i.push(a)}function f(a,b,c,d){var f;if(document.querySelectorAll&&(f=document.querySelectorAll.bind(document)),f||"undefined"==typeof $$||(f=$$),f||"undefined"==typeof jQuery||(f=jQuery),!f)throw"No document.querySelectorAll, jQuery or Mootools's $$ found.";for(var g=f(a),h=0,i=g.length;h<i;h++)e(g[h],{mode:b,property:c,value:d})}function g(a){var b;for(a=a.replace(/'/g,'"');null!==(b=j.exec(a));)5<b.length&&f(b[1]||b[5],b[2],b[3],b[4])}function h(a){var b="";if(a)if("string"==typeof a)a=a.toLowerCase(),-1===a.indexOf("min-width")&&-1===a.indexOf("max-width")||g(a);else for(var c=0,d=a.length;c<d;c++)1===a[c].type?(b=a[c].selectorText||a[c].cssText,-1!==b.indexOf("min-height")||-1!==b.indexOf("max-height")?g(b):-1===b.indexOf("min-width")&&-1===b.indexOf("max-width")||g(b)):4===a[c].type&&h(a[c].cssRules||a[c].rules)}this.withTracking=!1;var i=[],j=/,?([^,\n]*)\[[\s\t]*(min|max)-(width|height)[\s\t]*[~$\^]?=[\s\t]*"([^"]*)"[\s\t]*]([^\n\s\{]*)/gim;this.init=function(a){this.withTracking=a;for(var b=0,c=document.styleSheets.length;b<c;b++)try{h(document.styleSheets[b].cssText||document.styleSheets[b].cssRules||document.styleSheets[b].rules)}catch(d){if("SecurityError"!==d.name)throw d}},this.update=function(a){this.withTracking=a,this.init()},this.detach=function(){if(!this.withTracking)throw"withTracking is not enabled. We can not detach elements since we don not store it.Use ElementQueries.withTracking = true; before domready.";for(var b;b=i.pop();)a.detach(b);i=[]}};a.update=function(b){a.instance.update(b)},a.detach=function(a){a.elementQueriesSetupInformation?(a.elementQueriesSensor.detach(),delete a.elementQueriesSetupInformation,delete a.elementQueriesSensor,console.log("detached")):console.log("detached already",a)},a.withTracking=!1,a.init=function(){a.instance||(a.instance=new a),a.instance.init(a.withTracking)};var b=function(a){if(document.addEventListener&&document.addEventListener("DOMContentLoaded",a,!1),/KHTML|WebKit|iCab/i.test(navigator.userAgent))var b=setInterval(function(){/loaded|complete/i.test(document.readyState)&&(a(),clearInterval(b))},10);window.onload=a};window.addEventListener?window.addEventListener("load",a.init,!1):window.attachEvent("onload",a.init),b(a.init)}(),function(a){"function"==typeof define&&define.amd?define([],a):("object"==typeof exports,a())}(function(){var a;return a=function(){function a(){var a;a=new ElementQueries,a.init()}return a.prototype.update=function(){return ElementQueries.update()},a}(),window.GridleEq=new a});